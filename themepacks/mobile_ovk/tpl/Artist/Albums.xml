{extends "../@layout.xml"}

{block title}
    {$artist->getName()} — Альбомы
{/block}

{block titleHeader}
    {$artist->getName()}
{/block}

{block body}
    <div class="artistPage" style="padding:10px;display:flex;flex-direction:column;gap:12px;">
        <!-- Header: avatar + name/bio to the right -->
        <section style="display:flex;gap:12px;align-items:center;">
            <div style="flex:0 0 72px;width:72px;height:72px;border-radius:9999px;overflow:hidden;background:#111827;border:1px solid rgba(255,255,255,0.08);">
                <img n:if="$artistAvatarUrl" n:attr="src => $artistAvatarUrl, alt => $artist->getName()" style="width:100%;height:100%;object-fit:cover;display:block;" />
            </div>
            <div style="flex:1;min-width:0;">
                <div style="font-size:18px;font-weight:700;">{$artist->getName()}</div>
                <div style="margin-top:4px;opacity:.85;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;" n:if="$artist->getBio()">{$artist->getBio()}</div>
                <div style="margin-top:4px;opacity:.8;font-size:12px;">{$tracksCount} треков{if $albumsCount > 0} • {$albumsCount} альбомов{/if}</div>
            </div>
        </section>

        <!-- Tabs -->
        <div class="audioTabs" style="display:flex;gap:8px;flex-wrap:wrap;">
            <a id="ki" href="/artist{$artist->getId()}" style="text-decoration:none;">Главная</a>
            <a id="ki" href="/artist{$artist->getId()}/tracks" style="text-decoration:none;">Все треки ({$tracksCount})</a>
            <a n:attr="id => 'used'" href="/artist{$artist->getId()}/albums" style="text-decoration:none;">Альбомы ({$albumsCount})</a>
        </div>

        <!-- Albums grid -->
        <section>
            <div n:if="sizeof($albums) <= 0" style='opacity:.75;'>Альбомов пока нет.</div>
            <div n:if="sizeof($albums) > 0" class="scroll_container playlistContainer">
                <div class='scroll_node' n:foreach='$albums as $playlist'>
                    {include '../Audio/playlistListView.xml', playlist => $playlist}
                </div>
            </div>
        </section>

        <!-- Bottom spacing for tabbar -->
        <div style="height:88px;"></div>
    </div>
{/block}

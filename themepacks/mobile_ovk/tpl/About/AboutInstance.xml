{extends "../@layout.xml"}
{block title}{_about_this_instance}{/block}

{block header}
    {_about_this_instance}
{/block}

{block body}
    <div style="padding:72px 16px calc(100px + env(safe-area-inset-bottom));background:#0b1220;min-height:100vh;color:#e5e7eb;">
        <div style="max-width:820px;margin:0 auto;">
            <!-- Hero -->
            <div style="text-align:center;margin-bottom:18px;">
                <img src="/themepack/mobile_ovk/0.0.1.0/resource/logo_hero.png" alt="logo" width="128" height="128" style="display:inline-block;"/>
            </div>
            <div style="text-align:center;margin-bottom:14px;">
                <div style="font-size:22px;font-weight:800;">{_about_this_instance}</div>
                <div style="margin-top:6px;color:#94a3b8;">{_on_this_instance_are}</div>
            </div>
            
            <!-- Stats -->
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px;">
                <div style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;">{tr("about_users", $usersStats->all)|noescape}</div>
                <div style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;">{tr("about_online_users", $usersStats->online)|noescape}</div>
                <div style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;">{tr("about_active_users", $usersStats->active)|noescape}</div>
                <div style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;">{tr("about_groups", $clubsCount)|noescape}</div>
                <div style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;">{tr("about_wall_posts", $postsCount)|noescape}</div>
            </div>
            <!-- Admins -->
            <div n:if="sizeof($admins) > 0" style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;margin-bottom:16px;">
                <div style="font-weight:700;margin-bottom:8px;">{_administrators}</div>
                <div style="display:flex;gap:10px;overflow:auto;padding-bottom:4px;">
                    <a n:foreach="$admins as $admin" href="{$admin->getURL()}" style="text-decoration:none;color:#e5e7eb;display:inline-flex;flex-direction:column;align-items:center;">
                        <img src="{$admin->getAvatarUrl()}" alt="ava" style="width:56px;height:56px;border-radius:28px;object-fit:cover;"/>
                        <span style="margin-top:6px;font-size:12px;max-width:90px;text-align:center;">{$admin->getCanonicalName()}</span>
                    </a>
                </div>
            </div>
            <!-- Popular groups -->
            <div n:if="sizeof($popularClubs) !== 0" style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;margin-bottom:16px;">
                <div style="font-weight:700;margin-bottom:8px;">{_most_popular_groups}</div>
                <ol style="margin:0;padding-left:18px;">
                    <li value="{$num+1}" style="margin-top:6px;" n:foreach="$popularClubs as $num => $club">
                        <a href="{$club->club->getURL()}" style="color:#93c5fd;text-decoration:none;">{$club->club->getName()}</a>
                        <div style="font-size:12px;color:#94a3b8;">{tr("participants", $club->subscriptions)}</div>
                    </li>
                </ol>
            </div>
            <!-- Rules -->
            <div style="background:#0f172a;border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px;">
                <div style="font-weight:700;margin-bottom:8px;">{_rules}</div>
                <div>{presenter "openvk!Support->knowledgeBaseArticle", "rules"}</div>
            </div>
        </div>
    </div>
{/block}
